{% extends 'base.html.twig' %}

{% block title %}KhaMELIA - Dashboard{% endblock %}
{% block body %}
<!-- start: page -->
	<div class="row">
		<div class="col-md-6 col-lg-12 col-xl-6">
			<section class="panel">
				<div class="panel-body">
					<div class="row">
						<div class="col-lg-8">

							<div class="chart-data-selector" id="salesSelectorWrapper">
								<h2>
									Etat:
									<strong>
										<select class="form-control" id="salesSelector">
											<option value="nb_enseigne" selected>Nombre de spécialité</option>
											<option value="nb_enseignant" >Nombre de medécins</option>
											<option value="nb_eleve" >Nombre de patients</option>
											<option value="nb_parent" >Nombre de parents</option>
										</select>
									</strong>
								</h2>

								<div id="salesSelectorItems" class="chart-data-selector-items mt-sm">
									<!-- Flot: nb_enseigne -->
									<div class="chart chart-sm" data-sales-rel="nb_enseigne" id="flotDashSales1" class="chart-active"></div>
									<script>

										var flotDashSales1Data = [{
											data: [
												{% for key,item in allEnseigneParMois %}
													["{{ key }}", {{item}}],
												{% endfor %}
												
											],
											color: "#0088cc"
										}];

										// See: assets/javascripts/dashboard/examples.dashboard.js for more settings.

									</script>

									<!-- Flot: nb_enseignant  -->
									<div class="chart chart-sm" data-sales-rel="nb_enseignant" id="flotDashSales2" class="chart-hidden"></div>
									<script>

										var flotDashSales2Data = [{
											data: [
												{% for key,item in medecinsJoinedParMois %}
													["{{ key }}", {{item}}],
												{% endfor %}
											],
											color: "#2baab1"
										}];

										

									</script>

									<!-- Flot: nb_eleve -->
									<div class="chart chart-sm" data-sales-rel="nb_eleve" id="flotDashSales3" class="chart-hidden"></div>
									<script>

										var flotDashSales3Data = [{
											data: [
												{% for key,item in patientsJoinedParMois %}
													["{{ key }}", {{item}}],
												{% endfor %}
											],
											color: "#734ba9"
										}];

										// See: assets/javascripts/dashboard/examples.dashboard.js for more settings.

									</script>
									<div class="chart chart-sm" data-sales-rel="nb_parent" id="flotDashSales4" class="chart-hidden"></div>
									<script>

										var flotDashSales4Data = [{
											data: [
												{% for key,item in parentsJoinedParMois %}
													["{{ key }}", {{item}}],
												{% endfor %}
											],
											color: "#43C5a9"
										}];

										// See: assets/javascripts/dashboard/examples.dashboard.js for more settings.

									</script>
								</div>

							</div>
						</div>
						<div class="col-lg-4 text-center">
						 <div class="row">
						  <div class="col-12">
							<h2 class="panel-title mt-md">Etat global</h2>
							<div class="liquid-meter-wrapper liquid-meter-sm mt-lg">
								<div class="liquid-meter">
									<meter min="0" max="100" value="{{ totalEnseigne==0 ? 0 : (enseigneTotal/totalEnseigne)*100 }}" id="meterSales"></meter>
								</div>
								<div class="liquid-meter-selector" id="meterSalesSel">
									<a href="#" data-val="{{totalEnseigne==0 ? 0 : (enseigneTotal/totalEnseigne)*100  }}" class="active">Enseigne</a>
									<a href="#" data-val="{{totalEnseigne==0 ? 0 : (medecinTotal/totalParticulier)*100 }}">Medecins</a>
									<a href="#" data-val="{{totalEnseigne==0 ? 0 : (patientTotal/totalParticulier)*100 }}">Patient</a>
									<a  href="#" data-val="{{totalEnseigne==0 ? 0 : (parentTotal/totalParticulier)*100 }}">Parents</a>
								</div>
							</div>
						  </div>
						 </div>

						</div>
					</div>
				</div>
			</section>
		</div>
		
	</div>
	
<!-- end: page -->
{% endblock %}
{% block javascripts %}
	<script src="{{ asset('assets/vendor/jquery-ui/js/jquery-ui-1.10.4.custom.js') }}"></script>
	<script src="{{ asset('assets/vendor/jquery-ui-touch-punch/jquery.ui.touch-punch.js') }}"></script>
	<script src="{{ asset('assets/vendor/jquery-appear/jquery.appear.js') }}"></script>
	<script src="{{ asset('assets/vendor/bootstrap-multiselect/bootstrap-multiselect.js') }}"></script>
	<script src="{{ asset('assets/vendor/jquery-easypiechart/jquery.easypiechart.js') }}"></script>
	<script src="{{ asset('assets/vendor/flot/jquery.flot.js') }}"></script>
	<script src="{{ asset('assets/vendor/flot-tooltip/jquery.flot.tooltip.js') }}"></script>
	<script src="{{ asset('assets/vendor/flot/jquery.flot.pie.js') }}"></script>
	<script src="{{ asset('assets/vendor/flot/jquery.flot.categories.js') }}"></script>
	<script src="{{ asset('assets/vendor/flot/jquery.flot.resize.js') }}"></script>
	<script src="{{ asset('assets/vendor/jquery-sparkline/jquery.sparkline.js') }}"></script>
	<script src="{{ asset('assets/vendor/raphael/raphael.js') }}"></script>
	<script src="{{ asset('assets/vendor/morris/morris.js') }}"></script>
	<script src="{{ asset('assets/vendor/gauge/gauge.js') }}"></script>
	<script src="{{ asset('assets/vendor/snap-svg/snap.svg.js') }}"></script>
	<script src="{{ asset('assets/vendor/liquid-meter/liquid.meter.js') }}"></script>
	<script src="{{ asset('assets/vendor/jqvmap/jquery.vmap.js') }}"></script>
	<script src="{{ asset('assets/vendor/jqvmap/data/jquery.vmap.sampledata.js') }}"></script>
	<script src="{{ asset('assets/vendor/jqvmap/maps/jquery.vmap.world.js') }}"></script>
	<script src="{{ asset('assets/vendor/jqvmap/maps/continents/jquery.vmap.africa.js') }}"></script>
	<script src="{{ asset('assets/vendor/jqvmap/maps/continents/jquery.vmap.asia.js') }}"></script>
	<script src="{{ asset('assets/vendor/jqvmap/maps/continents/jquery.vmap.australia.js') }}"></script>
	<script src="{{ asset('assets/vendor/jqvmap/maps/continents/jquery.vmap.europe.js') }}"></script>
	<script src="{{ asset('assets/vendor/jqvmap/maps/continents/jquery.vmap.north-america.js') }}"></script>
	<script src="{{ asset('assets/vendor/jqvmap/maps/continents/jquery.vmap.south-america.js') }}"></script>
{% endblock %}