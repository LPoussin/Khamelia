{% extends 'base.html.twig' %}

{% block title %}KhaMELIA - Enseignes
{% endblock %}
{% block stylesheets %}
	<link rel="stylesheet" href="{{ asset('assets/vendor/select2/select2.css') }}"/>
	<link rel="stylesheet" href="{{ asset('assets/vendor/jquery-datatables-bs3/assets/css/datatables.css') }} "/>
	<link rel="stylesheet" href="{{ asset('assets/vendor/pnotify/pnotify.custom.css') }} "/>
{% endblock %}

{% block position %}
	{{ position }}
{% endblock %}

{% block chemin %}
	{{ chemin }}
{% endblock %}

{% block body %}
	<div class="row">
		{% set link_mdl = 'bar' %}
		<div class="col-md-6 col-lg-12 col-xl-6">
			<section class="panel">
				<header class="panel-heading">
					<div class="panel-actions">
						{% if 'SUPER_ADMIN' in app.user.roles %}
							<a href="{{ path('ensseigne_new') }}" class="">
								<button class="mb-xs mt-xs mr-xs btn btn-success">
									<span class="fa fa-plus"></span>
									Créer
								</button>
							</a>
						{% endif %}
						<a href="#" class="fa fa-caret-down"></a>

					</div>

					<h2 class="panel-title">
						Liste des Enseignes
					</h2>

				</header>
				<div class="panel-body">
					<table class="table table-bordered table-striped mb-none" {% if enseignes is not empty %} id="datatable-default" {% endif %}>
						<thead>
							<tr>
								<th>Type enseigne</th>
								<th>libelle</th>
								<th>site web</th>
								<th>telephone</th>
								<th>Quartier</th>
								<th>actions</th>
							</tr>
						</thead>
						<tbody>
							{% for enseigne in enseignes %}
								<tr>
									<td>{{ enseigne.enseigneType.libelle }}</td>
									<td>{{ enseigne.libelle }}</td>
									<td>{{ enseigne.urlsite }}</td>
									<td>{{ enseigne.telephone }}</td>
									<td>{{ enseigne.quartier.libelle }}</td>
									<td>
										<a href="{{ path('ensseigne_edit', {'id': enseigne.id}) }}" class="mb-xs mt-xs mr-xs btn btn-primary">
											<span class="fa fa-edit"></span>
											Mise à jour
										</a>
										{% if enseigne.liaison == 0 %}
											<a href="{{ path('ensseigne_medicales', {'id': enseigne.id}) }}" class="mb-xs mt-xs mr-xs btn btn-info">
											<span class="fa fa-link"></span>
											Lier
										</a>
										{% else %}
											<a href="{{ path('ensseigne_medicales_deliaison', {'id': enseigne.id}) }}" class="mb-xs mt-xs mr-xs btn btn-info">
											<span class="fa fa-unlink"></span>
											Delier
										</a>
										{% endif %}
									</td>
								</tr>
							{% else %}
								<tr>
									<td colspan="5">Aucune enseigne</td>
								</tr>
							{% endfor %}
						</tbody>
					</table>
				</div>
			</section>
		</div>
	</div>
	<!-- Modal -->
	<div class="modal fade" id="showimagemodal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">
					<img id="image_modal" style="width: 80px; height:80px;" src="sss.png" class="img-thumbnail" alt="Responsive image"/>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
					<button type="button" class="btn btn-primary">Save changes</button>
				</div>
			</div>
		</div>
	</div>
{% endblock %}
{% block javascripts %}
	<script src="{{ asset('assets/javascripts/theme.custom.js') }}"></script>
	<script src="{{ asset('assets/vendor/select2/select2.js') }} "></script>
	<script src="{{ asset('assets/vendor/jquery-datatables/media/js/jquery.dataTables.js') }} "></script>
	<script src="{{ asset('assets/vendor/jquery-datatables/extras/TableTools/js/dataTables.tableTools.min.js') }} "></script>
	<script src="{{ asset('assets/vendor/jquery-datatables-bs3/assets/js/datatables.js') }} "></script>
	<script src="{{ asset('assets/vendor/pnotify/pnotify.custom.js') }}"></script>
	<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
	<script src="{{ asset('assets/javascripts/ui-elements/examples.modals.js') }}"></script>
	<script src="{{ asset('assets/javascripts/tables/examples.datatables.default.js') }}"></script>
{% endblock %}
