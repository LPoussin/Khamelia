{% extends 'base.html.twig' %}

{% block title %}KhaMELIA - Liste des constantes
{% endblock %}
{% block stylesheets %}
	<link rel="stylesheet" href="{{ asset('assets/vendor/select2/select2.css') }}"/>
	<link rel="stylesheet" href="{{ asset('assets/vendor/jquery-datatables-bs3/assets/css/datatables.css') }} "/>
	<link rel="stylesheet" href="{{ asset('assets/vendor/pnotify/pnotify.custom.css') }} "/>
{% endblock %}

{% block position %}
	{{ position }}
{% endblock %}

{% block chemin %}
	{{ chemin }}
{% endblock %}

{% block body %}
	<div class="row">
		{% set link_mdl = 'bar' %}
		<div class="col-md-6 col-lg-12 col-xl-6">
			<section class="panel">
				<header class="panel-heading">
					<div class="panel-actions">
						{% if 'SUPER_ADMIN' in app.user.roles %}
							<a href="{{ path('matieres_index') }}" class="">
								<button class="mb-xs mt-xs mr-xs btn btn-info">
									<span class="fa fa-chevron-left"></span>
									Retour
								</button>
							</a>
						{% endif %}
						<a href="#" class="fa fa-caret-down"></a>

					</div>

					<h2 class="panel-title">
						Liste des constantes
					</h2>

				</header>
				<div class="panel-body">
					<table class="table table-bordered table-striped mb-none" {% if constantes is not empty %} id="datatable-default" {% endif %}>
						<thead>
							<tr>
								<th>libelle</th>
								<th>code</th>
								<th>Actions</th>
							</tr>
						</thead>
						<tbody>
							{% for constante in constantes %}
								<tr>
									<td>{{ constante.libelle }}</td>
									<td>{{ constante.code }}</td>
									<td>
										{% if constante.id in constantesSpecId %}
											<a href="{{ path('specialite_deliaison', {'id': constante.id,'id_matiere': id_matiere}) }}" class="mb-xs mt-xs mr-xs btn btn-info">
												<span class="fa fa-unlink"></span>
												Delier
											</a>
										{% else %}
											<a href="{{ path('specialite_liaison', {'id_matiere': id_matiere, 'id':constante.id}) }}" class="mb-xs mt-xs mr-xs btn btn-info">
												<span class="fa fa-link"></span>
												Lier
											</a>
										{% endif %}
									</td>
								</tr>
							{% else %}
								<tr>
									<td colspan="5">Aucune constante</td>
								</tr>
							{% endfor %}
						</tbody>
					</table>
				</div>
			</section>
		</div>
	</div>
	<!-- Modal -->
	<div class="modal fade" id="showimagemodal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">
					<img id="image_modal" style="width: 80px; height:80px;" src="sss.png" class="img-thumbnail" alt="Responsive image"/>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
					<button type="button" class="btn btn-primary">Save changes</button>
				</div>
			</div>
		</div>
	</div>
{% endblock %}
{% block javascripts %}
	<script src="{{ asset('assets/javascripts/theme.custom.js') }}"></script>
	<script src="{{ asset('assets/vendor/select2/select2.js') }} "></script>
	<script src="{{ asset('assets/vendor/jquery-datatables/media/js/jquery.dataTables.js') }} "></script>
	<script src="{{ asset('assets/vendor/jquery-datatables/extras/TableTools/js/dataTables.tableTools.min.js') }} "></script>
	<script src="{{ asset('assets/vendor/jquery-datatables-bs3/assets/js/datatables.js') }} "></script>
	<script src="{{ asset('assets/vendor/pnotify/pnotify.custom.js') }}"></script>
	<script src="{{ asset('assets/javascripts/ui-elements/examples.modals.js') }}"></script>
	<script src="{{ asset('assets/javascripts/tables/examples.datatables.default.js') }}"></script>
{% endblock %}
